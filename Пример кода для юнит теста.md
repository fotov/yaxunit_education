---
share: true  
---
Тестируемая функция СтавкаНДСЧислом
```bsl
Функция СтавкаНДСЧислом(Знач Ставка)
    Если Ставка = ПредопределенноеЗначение("Перечисление.СтавкиНДС.НДС18") Тогда
        Возврат 0.18;
    ИначеЕсли Ставка = ПредопределенноеЗначение("Перечисление.СтавкиНДС.НДС10") Тогда
        Возврат 0.1;
    Иначе
        ВызватьИсключение "Ставка не поддерживается";
    КонецЕсли;
КонецФункции
```

Пример теста
```bsl
Функция ТестСтавкиНДСЧислом() Экспорт
    ЕстьОшибки = Ложь;
    Если СтавкаНДСЧислом(Перечисления.СтавкиНДС.НДС18) <> 0.18 Тогда
        ЕстьОшибки = Истина;
        Сообщить("Ошибка расчета НДС 20%");
    КонецЕсли;
    Если СтавкаНДСЧислом(Перечисления.СтавкиНДС.НДС10) <> 0.1 Тогда
        ЕстьОшибки = Истина;
        Сообщить("Ошибка расчета НДС 10%");
    КонецЕсли;
    ЕстьИсключение = Ложь;
    Попытка
        СтавкаНДСЧислом(Неопределено);
    Исключение
        ЕстьИсключение = Истина;
    КонецПопытки;
    Если Не ЕстьИсключение Тогда
        ЕстьОшибки = Истина;
        Сообщить("Не обрабатывается неверный НДС");
    КонецЕсли;
    Возврат ЕстьОшибки;
КонецФункции
```
Пример теста с использованием фреймворка yaxunit
```bsl
Процедура ИсполняемыеСценарии() Экспорт
    ЮТТесты
        .ДобавитьТест("ТестСтавкиНДСЧислом");
КонецПроцедуры

Процедура ТестСтавкиНДСЧислом() Экспорт
    ЮТест.ОжидаетЧто(ТестСтавкиНДСЧислом(Перечисления.СтавкиНДС.НДС20))
        .ИмеетТип("Число")
        .Равно(0.2);
    ЮТест.ОжидаетЧто(ТестСтавкиНДСЧислом(Перечисления.СтавкиНДС.НДС10))
        .ИмеетТип("Число")
        .Равно(0.1);
    ЮТест.ОжидаетЧто(РасчетНДС)
        .Метод("СтавкаНДСЧислом", ЮТОбщий.ЗначениеВМассиве(Неопределено))
        .ВыбрасываетИсключение("Ставка не поддерживается");
КонецПроцедуры
```